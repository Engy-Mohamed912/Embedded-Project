#include "GPIO.h"

int cookingtimeinsec;
extern unsigned char CountArray[5];

void Countdown_Integertocharacter(int time){

unsigned char minutes_tens;
unsigned char minutes_units;
unsigned char seconds_tens;
unsigned char seconds_units;
int seconds;
int minutes;	
	
minutes = time / 60;
	
minutes_tens = minutes / 10;
minutes_units = minutes % 10;

seconds = time - (minutes_tens * 600) - (minutes_units * 60);

seconds_tens = seconds / 10;
seconds_units = seconds % 10;	

CountArray[0] = minutes_tens + '0';
CountArray[1] = minutes_units + '0';
CountArray[2] = ':';
CountArray[3] = seconds_tens + '0';
CountArray[4] = seconds_units + '0';
}




void Counter (void){
	
	if(CountArray[4] != '0') {CountArray[3]--;}
	else if(CountArray[4] == '0' & CountArray[3] != '0') {CountArray[3]--;	CountArray[4] = '9';}
	else if(CountArray[4] == '0' & CountArray[3] == '0' & CountArray[1] != '0') {CountArray[1]--; CountArray[3] = '5'; CountArray[4] = '9';}
	else if(CountArray[4] == '0' & CountArray[3] == '0' & CountArray[1] == '0' & CountArray[0] != '0') {CountArray[0]--; CountArray[1] = '9'; CountArray[3] = '5'; CountArray[4] = '9';}
		
}

void DisplayCounter (void){
	while(1)
	{if (GPIO_ReadPin('a',0)==0) goto Pause;
		
		
		
		
		
		
		
		
		Pause:
		
	}
}
		